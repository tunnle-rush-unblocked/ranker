# ğŸ”’ å®‰å…¨é…ç½®æŒ‡å—

## âš ï¸ é‡è¦å®‰å…¨æé†’

**ç»å¯¹ä¸è¦**åœ¨ä»¥ä¸‹åœ°æ–¹åˆ†äº«æ•æ„Ÿå‡­è¯ï¼š
- âŒ èŠå¤©æ¶ˆæ¯
- âŒ ä»£ç æ–‡ä»¶
- âŒ Git æäº¤
- âŒ æ–‡æ¡£
- âŒ æˆªå›¾
- âŒ é‚®ä»¶

## ğŸ”‘ éœ€è¦é…ç½®çš„å‡­è¯è¯´æ˜

### GitHub Actions éœ€è¦çš„å¯†é’¥

åœ¨ GitHub Actions ä¸­ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®çš„æ˜¯ï¼š

1. **NETLIFY_AUTH_TOKEN** - Netlify çš„ä¸ªäººè®¿é—®ä»¤ç‰Œï¼ˆä¸æ˜¯ GitHub çš„ï¼‰
2. **NETLIFY_SITE_ID** - Netlify ç«™ç‚¹ ID

**æ³¨æ„ï¼š** `GITHUB_TOKEN` æ˜¯è‡ªåŠ¨æä¾›çš„ï¼Œä¸éœ€è¦æ‰‹åŠ¨é…ç½®ï¼

## ğŸ“ æ­£ç¡®çš„é…ç½®æ­¥éª¤

### æ­¥éª¤ 1ï¼šè·å– Netlify Auth Token

1. ç™»å½• Netlifyï¼šhttps://app.netlify.com/
2. ç‚¹å‡»å³ä¸Šè§’å¤´åƒ â†’ "User settings"
3. å·¦ä¾§èœå•é€‰æ‹© "Applications"
4. æ»šåŠ¨åˆ° "Personal access tokens"
5. ç‚¹å‡» "New access token"
6. è¾“å…¥æè¿°ï¼š`GitHub Actions è‡ªåŠ¨éƒ¨ç½²`
7. ç‚¹å‡» "Generate token"
8. **å¤åˆ¶ç”Ÿæˆçš„ token**ï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼‰

### æ­¥éª¤ 2ï¼šè·å– Netlify Site ID

**æ–¹æ³• Aï¼šä» Netlify ç½‘ç«™è·å–**

1. ç™»å½• Netlify
2. é€‰æ‹©æ‚¨çš„ç«™ç‚¹
3. ç‚¹å‡» "Site settings"
4. åœ¨ "Site details" éƒ¨åˆ†æ‰¾åˆ° "Site ID"
5. å¤åˆ¶è¿™ä¸ª IDï¼ˆæ ¼å¼ç±»ä¼¼ï¼š`abc123de-4567-89fg-0123-hij456789klm`ï¼‰

**æ–¹æ³• Bï¼šä½¿ç”¨ Netlify CLI**

```bash
# å®‰è£… Netlify CLI
npm install -g netlify-cli

# ç™»å½•
netlify login

# åœ¨é¡¹ç›®ç›®å½•ä¸­è¿è¡Œ
netlify status

# æŸ¥æ‰¾è¾“å‡ºä¸­çš„ "Site Id" å­—æ®µ
```

### æ­¥éª¤ 3ï¼šåœ¨ GitHub é…ç½®å¯†é’¥ï¼ˆå®‰å…¨å­˜å‚¨ï¼‰

1. æ‰“å¼€æ‚¨çš„ GitHub ä»“åº“
2. ç‚¹å‡» "Settings"ï¼ˆè®¾ç½®ï¼‰æ ‡ç­¾
3. å·¦ä¾§èœå•é€‰æ‹© "Secrets and variables" â†’ "Actions"
4. ç‚¹å‡» "New repository secret"

**æ·»åŠ ç¬¬ä¸€ä¸ªå¯†é’¥ï¼š**
```
Name:  NETLIFY_AUTH_TOKEN
Value: [ç²˜è´´æ‚¨ä» Netlify å¤åˆ¶çš„ token]
```

ç‚¹å‡» "Add secret"

**æ·»åŠ ç¬¬äºŒä¸ªå¯†é’¥ï¼š**
```
Name:  NETLIFY_SITE_ID
Value: [ç²˜è´´æ‚¨çš„ Netlify Site ID]
```

ç‚¹å‡» "Add secret"

### æ­¥éª¤ 4ï¼šéªŒè¯é…ç½®

1. è¿›å…¥ä»“åº“çš„ "Actions" æ ‡ç­¾
2. å¦‚æœçœ‹åˆ°æç¤ºï¼Œç‚¹å‡» "I understand my workflows"
3. å·¥ä½œæµå°†åœ¨ä¸‹æ¬¡æ¨é€æ—¶è‡ªåŠ¨è¿è¡Œ

## ğŸ§ª æµ‹è¯•è‡ªåŠ¨éƒ¨ç½²

```bash
# 1. åšä¸€ä¸ªå°æ”¹åŠ¨æµ‹è¯•
echo "<!-- æµ‹è¯•è‡ªåŠ¨éƒ¨ç½² -->" >> index.html

# 2. æäº¤å¹¶æ¨é€
git add .
git commit -m "æµ‹è¯•ï¼šéªŒè¯è‡ªåŠ¨éƒ¨ç½²"
git push

# 3. æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
# è®¿é—®ï¼šhttps://github.com/ä½ çš„ç”¨æˆ·å/ä»“åº“å/actions
```

## ğŸ” æŸ¥çœ‹é…ç½®çš„å¯†é’¥

1. è¿›å…¥ä»“åº“ Settings â†’ Secrets and variables â†’ Actions
2. æ‚¨åº”è¯¥çœ‹åˆ°ä¸¤ä¸ªå¯†é’¥ï¼š
   - `NETLIFY_AUTH_TOKEN`
   - `NETLIFY_SITE_ID`

**æ³¨æ„ï¼š** å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæ‚¨åªèƒ½çœ‹åˆ°å¯†é’¥åç§°ï¼Œçœ‹ä¸åˆ°å…·ä½“å€¼ã€‚

## ğŸ”„ å¦‚æœ Token æ³„éœ²äº†æ€ä¹ˆåŠï¼Ÿ

### ç«‹å³è¡ŒåŠ¨æ¸…å•ï¼š

1. **æ’¤é”€æ³„éœ²çš„ Token**
   - GitHub Token: https://github.com/settings/tokens
   - Netlify Token: https://app.netlify.com/user/applications#personal-access-tokens

2. **ç”Ÿæˆæ–°çš„ Token**
   - æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤é‡æ–°ç”Ÿæˆ

3. **æ›´æ–° GitHub Secrets**
   - è¿›å…¥ Settings â†’ Secrets and variables â†’ Actions
   - ç‚¹å‡»å¯†é’¥æ—è¾¹çš„ "Update"
   - ç²˜è´´æ–°çš„ token å€¼

4. **æ£€æŸ¥æ˜¯å¦æœ‰å¼‚å¸¸æ´»åŠ¨**
   - GitHub: https://github.com/settings/security-log
   - Netlify: æŸ¥çœ‹éƒ¨ç½²å†å²

## ğŸ›¡ï¸ å®‰å…¨æœ€ä½³å®è·µ

### âœ… åº”è¯¥åšçš„ï¼š

1. **ä½¿ç”¨ GitHub Secrets** å­˜å‚¨æ‰€æœ‰æ•æ„Ÿä¿¡æ¯
2. **è®¾ç½® Token è¿‡æœŸæ—¶é—´** - å®šæœŸè½®æ¢
3. **æœ€å°æƒé™åŸåˆ™** - åªæˆäºˆå¿…éœ€çš„æƒé™
4. **ä½¿ç”¨ç¯å¢ƒç‰¹å®šçš„ Token** - ç”Ÿäº§å’Œæµ‹è¯•åˆ†å¼€
5. **å¯ç”¨ 2FA** - GitHub å’Œ Netlify éƒ½å¯ç”¨ä¸¤æ­¥éªŒè¯
6. **å®šæœŸå®¡æŸ¥** - æ£€æŸ¥å·²æˆæƒçš„åº”ç”¨å’Œ Token

### âŒ ä¸åº”è¯¥åšçš„ï¼š

1. **ä¸è¦ç¡¬ç¼–ç ** Token åœ¨ä»£ç ä¸­
2. **ä¸è¦æäº¤** .env æ–‡ä»¶åˆ° Git
3. **ä¸è¦åˆ†äº«** Token ç»™ä»–äºº
4. **ä¸è¦ä½¿ç”¨** æ°¸ä¸è¿‡æœŸçš„ Token
5. **ä¸è¦é‡ç”¨** Token åœ¨å¤šä¸ªé¡¹ç›®
6. **ä¸è¦åœ¨æ—¥å¿—ä¸­æ‰“å°** æ•æ„Ÿä¿¡æ¯

## ğŸ“‹ .gitignore æ£€æŸ¥æ¸…å•

ç¡®ä¿ä»¥ä¸‹æ–‡ä»¶åœ¨ `.gitignore` ä¸­ï¼š

```gitignore
# ç¯å¢ƒå˜é‡
.env
.env.local
.env.*.local

# Netlify
.netlify/

# é…ç½®æ–‡ä»¶ï¼ˆå¦‚æœåŒ…å«å¯†é’¥ï¼‰
config.json
secrets.json
credentials.json
```

## ğŸ” ç¯å¢ƒå˜é‡å‘½åè§„èŒƒ

åœ¨ GitHub Secrets ä¸­ä½¿ç”¨æ¸…æ™°çš„å‘½åï¼š

```
âœ… å¥½çš„å‘½åï¼š
NETLIFY_AUTH_TOKEN
NETLIFY_SITE_ID
PRODUCTION_API_KEY
STAGING_DATABASE_URL

âŒ ä¸å¥½çš„å‘½åï¼š
TOKEN
KEY
SECRET
PASSWORD
```

## ğŸ“š ç›¸å…³é“¾æ¥

- [GitHub Secrets æ–‡æ¡£](https://docs.github.com/en/actions/security-guides/encrypted-secrets)
- [Netlify Token ç®¡ç†](https://docs.netlify.com/api/get-started/#authentication)
- [GitHub å®‰å…¨æœ€ä½³å®è·µ](https://docs.github.com/en/code-security/getting-started/securing-your-organization)

## âœ… é…ç½®å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] æ’¤é”€äº†æ³„éœ²çš„ Token
- [ ] åœ¨ Netlify ç”Ÿæˆäº†æ–°çš„ Auth Token
- [ ] è·å–äº† Netlify Site ID
- [ ] åœ¨ GitHub Secrets ä¸­æ·»åŠ äº† NETLIFY_AUTH_TOKEN
- [ ] åœ¨ GitHub Secrets ä¸­æ·»åŠ äº† NETLIFY_SITE_ID
- [ ] æµ‹è¯•äº†è‡ªåŠ¨éƒ¨ç½²åŠŸèƒ½
- [ ] ç¡®è®¤ .gitignore é…ç½®æ­£ç¡®
- [ ] å¯ç”¨äº†ä¸¤æ­¥éªŒè¯

---

## ğŸ’¡ è®°ä½ï¼š

**å‡­è¯å°±åƒæ‚¨çš„å®¶é—¨é’¥åŒ™ ğŸ”‘**
- ä¸è¦ç»™é™Œç”Ÿäºº
- ä¸è¦éšæ„ä¸¢å¼ƒ
- å®šæœŸæ›´æ¢
- å¦¥å–„ä¿ç®¡

ä¿æŠ¤å¥½æ‚¨çš„å‡­è¯ = ä¿æŠ¤å¥½æ‚¨çš„é¡¹ç›®å®‰å…¨ï¼ğŸ›¡ï¸

