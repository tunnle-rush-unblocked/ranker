name: é¢„è§ˆéƒ¨ç½²ï¼ˆPull Requestï¼‰

on:
  # å½“åˆ›å»ºæˆ–æ›´æ–° Pull Request æ—¶è§¦å‘
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  preview:
    runs-on: ubuntu-latest
    
    steps:
      # 1. æ£€å‡ºä»£ç 
      - name: ğŸ“¥ æ£€å‡ºä»£ç 
        uses: actions/checkout@v4
      
      # 2. éƒ¨ç½²é¢„è§ˆç‰ˆæœ¬
      - name: ğŸ” éƒ¨ç½²é¢„è§ˆåˆ° Netlify
        uses: nwtgck/actions-netlify@v2.1
        with:
          publish-dir: '.'
          production-branch: main
          github-token: ${{ secrets.GITHUB_TOKEN }}
          deploy-message: "PRé¢„è§ˆï¼š${{ github.event.pull_request.title }}"
          enable-pull-request-comment: true
          enable-commit-comment: false
          overwrites-pull-request-comment: true
          alias: pr-${{ github.event.pull_request.number }}
        env:
          NETLIFY_AUTH_TOKEN: ${{ secrets.NETLIFY_AUTH_TOKEN }}
          NETLIFY_SITE_ID: ${{ secrets.NETLIFY_SITE_ID }}
        timeout-minutes: 10
      
      # 3. é¢„è§ˆéƒ¨ç½²å®Œæˆ
      - name: âœ… é¢„è§ˆå°±ç»ª
        if: success()
        run: |
          echo "ğŸ” PR é¢„è§ˆå·²ç”Ÿæˆï¼"
          echo "æŸ¥çœ‹ PR è¯„è®ºè·å–é¢„è§ˆé“¾æ¥"

